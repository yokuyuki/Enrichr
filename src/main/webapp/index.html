<!DOCTYPE html>
<html lang="en">
<head>
	<title>Enrichr</title>
	<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
	<meta name="author" content="Edward Y. Chen"/>
	<meta name="viewport" content="width=750">
	<link rel="shortcut icon" type="image/x-icon" href="favicon.ico"/>
	<link rel="icon" type="image/ico" href="favicon.ico"/>
	<link rel="stylesheet" type="text/css" href="http://yui.yahooapis.com/2.9.0/build/reset/reset-min.css"/>
	<link href='http://fonts.googleapis.com/css?family=Droid+Sans' rel='stylesheet' type='text/css'/>
	<link rel="stylesheet" type="text/css" href="http://ajax.aspnetcdn.com/ajax/jquery.dataTables/1.9.1/css/jquery.dataTables.css"/>
	<link rel="stylesheet" type="text/css" href="black-widow.css"/>
	<link rel="stylesheet" type="text/css" href="black-widow-index.css"/>
	<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js" defer="defer"></script>
	<script type="text/javascript" src="jquery.mobile.touch.min.js" defer="defer"></script>
	<script type="text/javascript" src="jquery-ui-1.9.1.autocomplete.min" defer="defer"></script>
	<script type="text/javascript" src="http://ajax.aspnetcdn.com/ajax/jquery.dataTables/1.9.1/jquery.dataTables.min.js" defer="defer"></script>
	<script type="text/javascript" src="index.js" defer="defer"></script>
</head>
<body>
	<div id="logo">
		<a href="index.html"><img src="images/enrichr-icon.png"/><span>En</span><span class="red">rich</span><span>r</span></a>
	</div>
	<div id="count" class="hidden">
		<span>0</span> lists analyzed!
	</div>
	<div class="clear"></div>
	<!--[if lt IE 9]>
	<div class="beveled">
		<table class="warning">
			<tr>
				<td id="header" colspan="2">Your browser is too old to support this site.<br/>Please get any of the browsers below to proceed:</td>
			</tr>
			<tr id="browsers">
				<td>					
					<a href="http://www.firefox.com">
						<img src="images/firefox.png" width="128" height="128" alt="Download Firefox"/>
					</a>
					<div><a href="http://www.firefox.com">Firefox</a></div>
				</td>
				<td>
					<a href="http://www.google.com/chrome">
						<img src="images/chrome.png" width="128" height="128" alt="Download Chrome"/>
					</a>
					<div><a href="http://www.google.com/chrome">Chrome</a></div>
				</td>
			</tr>
		</table>
	</div>
	<![endif]-->
	<div id="navbar" class="nav">
		<table>
			<tr>
				<td class="selected">
					<a href="#" onclick="getTab(''); return false;">Analyze</a>
				</td>
				<td>
					<a href="#" onclick="getTab('stats'); return false;">Dataset Statistics</a>
				</td>
				<td>
					<a href="#" onclick="getTab('gene'); return false;">Find A Gene</a>
				</td>
				<td>
					<a href="#" onclick="getTab('about'); return false;">About</a>
				</td>
				<td>
					<a href="#" onclick="getTab('help'); return false;">?</a>
				</td>
			</tr>
		</table>
	</div>
	<div id="content" class="beveled">
		<div class="selected">
			<form id="enrich" action="enrich" method="post" onsubmit="return validateInput();" enctype="multipart/form-data">
				<div class="title">Input data</div>			
				<table id="data-input">
					<tr id="genes">
						<td>
							<p>Choose an input file to upload. Separate each gene symbol with a new line.</p>
							<input type="file" name="file" id="file-chooser"/>
						</td>
						<td id="textbox">
							<p>Or paste in a list of gene symbols separated by a new line. <a href="#"	onclick="insertExample(); return false;" id="example-input">Try an example!</a></p>
							<textarea name="list" rows="10" id="text-area" onkeyup="geneCount()" onchange="geneCount()" onfocus="geneCount()"></textarea>
							<div id="gene-count"><span id="gene-count">0</span> gene(s) entered</div>
						</td>
					</tr>
					<tr id="description">
						<td colspan="2">
							<p>Enter a brief description for the list in case you want to share it. (Optional)</p>
							<input type="text" name="description" />
						</td>
					</tr>
				</table>
				<div class="clear"></div>
				<div class="next-step">
					<input type="image" src="images/navigate-up-icon.png" width="64" height="64" title="Upload File"/>
				</div>
				<div class="clear"></div>
			</form>
		</div>
		<div class="hidden">
			<div class="title">Dataset Statistics</div>
			<table id="stats"></table>
			<div class="clear"></div>
		</div>
		<div class="hidden">
			<div class="title">Find A Gene</div>
			<div id="gene-info"></div>
		</div>
		<div class="hidden">
			<div class="title">About Enrichr</div>
			<div id="about">
				<table>
					<tr><td>Developed</td><td class="red">in</td><td>the Ma'ayan Lab</td></tr>
					<tr><td></td><td class="red">by</td><td>Edward Chen</td></tr>
					<tr><td></td><td></td><td>Christopher Tan</td></tr>
					<tr><td></td><td></td><td>Yan Kou</td></tr>
					<tr><td></td><td></td><td>Neil Clark</td></tr>
					<tr><td></td><td></td><td>Avi Ma'ayan</td></tr>
				</table>
				<table id="affiliations">
					<tr>
						<td><img src="images/mssm.png"/></td>
						<td><img src="images/sbcny.png"/></td>
					</tr>
				</table>
			</div>
		</div>
		<div class="hidden">
			<div class="title">Help</div>
			<div class="question">How do I save my results?</div>
			<div class="answer">
				<p>After submitting a list, there's a share button on the top right corner of the results page. Clicking this button will pop up a box that provides you a 30-day temporary link that can be used to share your results with others. Just copy and paste the link to send it in an email. Remember to enter a brief description of your list on the starting page so that your collaborators know the origins of the results. You can permanently save your list in our webapp, <a href="http://amp.pharm.mssm.edu/lachmann/upload/login.php">List2Networks</a>. You will need to set up an account and upload your lists onto your account. On the Lists tab, you will see the option to use Enrichr as an action on your uploaded lists.</p>
			</div>
			<div class="question">Why is my browser not supported?</div>
			<div class="answer">
				<p>One of the advantages of Enrichr compared with similar tools is the visualization of the results using SVG. This capability is powered by <a href="http://d3js.org/" target="_blank">D3</a>, a graphic JavaScript library that relies on HTML and SVG. Internet Explorer (IE) versions prior to IE 9 do not render SVG properly. In addition, the stock browser in Android 2.3.7 (Gingerbread) or below does not support SVG either; however, <a href="https://play.google.com/store/apps/details?id=org.mozilla.firefox" target="_blank">Firefox for Android</a> and <a href="https://play.google.com/store/apps/details?id=com.opera.mini.android" target="_blank">Opera for Android</a> are viable alternatives. You can see a complete table of SVG compatibility across various browsers <a href="http://caniuse.com/#feat=svg" target="_blank">here</a>.</p>
			</div>
			<div class="question">Enrichr used to work and look fine, but all of a sudden, it appears out of sync. What happened?</div>
			<div class="answer">Because Enrichr is under constant development, you may need to periodically refresh your browser (by pressing Ctrl+F5 or Shift+F5). However, if there are persistent problems, please contact us.</div>
			<div class="question">How can I use Enrichr on my own site?</div>
			<div class="answer">
				<p>You can include Enrichr on your site with some simple JavaScript:</p>
				<pre>
function enrich(options) {
	var defaultOptions = {
		description: "",
		popup: false
	};

	if (typeof options.description == 'undefined')
		options.description = defaultOptions.description;
	if (typeof options.popup == 'undefined')
		options.popup = defaultOptions.popup;
	if (typeof options.list == 'undefined')
		alert('No genes defined.');

	var form = document.createElement('form');
	form.setAttribute('method', 'post');
	form.setAttribute('action', 'http://amp.pharm.mssm.edu/Enrichr/enrich');
	if (options.popup)
		form.setAttribute('target', '_blank');
	form.setAttribute('enctype', 'multipart/form-data');

	var listField = document.createElement('input');
	listField.setAttribute('type', 'hidden');
	listField.setAttribute('name', 'list');
	listField.setAttribute('value', options.genes);
	form.appendChild(listField);

	var descField = document.createElement('input');
	descField.setAttribute('type', 'hidden');
	descField.setAttribute('name', 'description');
	descField.setAttribute('value', options.description);
	form.appendChild(descField);

	document.body.appendChild(form);
	form.submit();
	document.body.removeChild(form);
}				</pre>
				<p>To use it, simply call <code>enrich({list: genes})</code> in your JavaScript and pass in <code>genes</code> as a list of Entrez Gene symbols separated by newlines. You can include a description for the list by using <code>enrich({list: genes, description: descString})</code>. To have the results pop up in a new window, use <code>enrich({list: genes, popup: true})</code>.</p>
			</div>
		</div>
	</div>		
</body>
</html>